
@using SofthemeClassBooking.Models
@model LoginViewModel

@using (Html.BeginForm("SofthemeLogin", "Login", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @id = "Login", role = "form" }))
{
    <div class="registration-form-incorrect-block">
        @Html.ValidationSummary()
    </div>
    @Html.AntiForgeryToken()
    @Html.ValidationMessageFor(m => m.Email, "", new { @class = "registration-form-incorrect-block" })
    @Html.TextBoxFor(m => m.Email, new { placeholder = "Адрес электронной почты",@id="emailBox"  })
    @Html.TextBoxFor(m => m.Password, new {@id="Password", placeholder = "Пароль", type = "password" })
    <input type="submit" class="button-refuse" value="Отправить" id="mysubmit">
}

<script>
    
    $(document)
        .ready(function () {

            $('#emailBox').change(function () {
                var value = $.trim($(this).val());
                var value2 = $.trim($("#Password").val());
                $("#Login").validate();
                if (value.length > 0 && value2.length>0) {

                    $('#mysubmit').removeClass("button-refuse");
                    $('#mysubmit').addClass('button-OK');
                }
                else {
                    $('#mysubmit').removeClass("button-OK");
                    $('#mysubmit').addClass('button-refuse');

                }
            });
            $('#Password').change(function () {
                var value = $.trim($("#emailBox").val());
                var value2 = $.trim($(this).val());

                if (value.length > 0 && value2.length > 0 ) {

                    $('#mysubmit').removeClass("button-refuse");
                    $('#mysubmit').addClass('button-OK');
                }
                else {
                    $('#mysubmit').removeClass("button-OK");
                    $('#mysubmit').addClass('button-refuse');

                }
            });
            $(function () {
                $("#ChangePassword")
                    .on('click',
                        function () {
                            $.get('@Url.Action("ChangePassword")')
                                .done(function (result) {
                                    $('.registration-form').html(result);
                                    if ($('#ChangePassword').hasClass('notselect')) {
                                        $('#ChangePassword').removeClass('notselect');
                                        $('#ChangePassword').addClass('select');
                                    }

                                    if ($('#Registration').hasClass('select')) {
                                        $('#Registration').removeClass('select');
                                        $('#Registration').addClass('notselect');
                                    }
                                    if ($('#Enter').hasClass('select')) {
                                        $('#Enter').removeClass('select');
                                        $('#Enter').addClass('notselect');
                                    }
                                    $("#title").text("Смена пароля");
                                });

                        });
            });
        });
   
</script>




   
  
